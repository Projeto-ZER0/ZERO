<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Project ZERO | TIERLIST</title>

  <link rel="icon" href="../assets/icon/Icon.png">
  <link rel="stylesheet" href="Tierlist_Quiz.css">
  <script src="../js/funcoes.js"></script>
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <!-- <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet"> -->
</head>

<body>
  <div class="header">
    <div class="container">
      <img class="titulo" src="../assets/imgs/Logo.png">
      <ul class="navbar">
        <li id="quiz">
          <a href="Quiz.html">Quiz</a>
        </li>
      <li>
          <a href="RankingQuiz.html">Ranking Quiz</a>
      </li>
        <li class="agora">
          <a href="#"">Tier List</a>
        </li>
        <li>|</li>
        <li>
          <a href="../index.html">Sair</a>
        </li>
      </ul>
    </div>
  </div>

  <div class="base">
    <div class="perguntas">
      Faça seu TierList de melhores personagens aqui:
      <input id="input_personagem">
      <button onclick="Personagens()">MakeList</button>
      <div id="div_personagem"></div>
      
        <br>
        <br>
        <br>
      Faça seu Tierlist de melhores fitas aqui:
      <input id="input_fitas">
      <button onclick="Fitas()">MakeList</button>
      <div id="div_fitas"></div>
        
      <!-- <div class="button">
        <button onclick="cadastrarTier()">Cadastrar Favoritos</button>
      </div> -->

    <div class="footer">
      <div class="container">
        <h4>Direitos reservados a Project ZERO ©</h4>
        <span class="version">v1.0.0</span>
      </div>
    </div>
</body>

</html>

<script>

  if(sessionStorage.ID_QUIZ != 'null') {
    quiz.style.display = "none"
  }

  var ListaFitasEscolha = ['Fábrica', 'Hotel', 'Clube', 'Prisão', 'DragonTape', 'Bunker1', 'Bunker2', 'Laborátorio', 'Matadouro', 'Estúdio', 'Chinatown', 'Mansão']
  var ListaPersonagensEscolha = ['Zero', 'Fifiteen', 'Psicólogo', 'SNOW', 'Garotinha', 'V', 'Sr.Kissyface', 'MURALHA', 'Homens Mascarados', 'HeadHunter']
  var ListaPersonagens = []
  var ListaFitas = []

  
  function Personagens() {
    var personagens = input_personagem.value
    
    if (ListaPersonagensEscolha.indexOf(personagens) <= -1) {
      alert('Não temos essa opção de personagem. Escolha entre: Zero, Fifiteen, Psicólogo, SNOW, Garotinha, V, Sr.Kissyface, MURALHA, Homens Mascarados, HeadHunter')
    } else {
      ListaPersonagens.push(personagens)

      div_personagem.innerHTML = ``
      var contadorP = 1
      for(var contador = 0;contador <= ListaPersonagens.length ;contador++) {
        contadorP++
        if(contador == 1) {
          div_personagem.innerHTML += `${contador}° - ${ListaPersonagens[contador - 1]} é seu/sua personagem favorito(a)<br>`
        } else if (contador >= 2 ) {
          div_personagem.innerHTML += `${contador}° - ${ListaPersonagens[contador - 1]}<br>`
        }
      }
    }
  }

  function Fitas() {
    var fitas = input_fitas.value

    if (ListaFitasEscolha.indexOf(fitas) <= -1) {
      alert('Não temos essa opção de personagem. Escolha entre: Fábrica, Hotel, Clube, Estúdio, Mansão, DragonTape, Prisão, Bunker1, Bunker2, Chinatown, Laborátorio')
    } else {
      ListaFitas.push(fitas)

      div_fitas.innerHTML = ``
      for(var contador = 0; contador <= ListaFitas.length ;contador++) {
        if(contador == 1) {
          div_fitas.innerHTML = `${contador}° - ${ListaFitas[contador - 1]} é sua fita favorita <br>`
        } else {
          div_fitas.innerHTML += `${contador}° - ${ListaFitas[contador - 1]}<br>`
        }
      }
    }
  }

  // var FitaFavorita = ListaFitas[1]
  // var PersonagemFavorita = ListaPersonagens[1]
  // var fkUsuario = Number(sessionStorage.getItem('ID_USUARIO'))


  // function cadastrarTier() {
  //       // aguardar();

  //       //Recupere o valor da nova input pelo nome do id
  //       // Agora vá para o método fetch logo abaixo
  //       var FitaFavoritaVar = FitaFavorita;
  //       var PersonagemFavorita = PersonagemFavorita;
  //       var fkUsuarioVar = fkUsuario
        
  //       console.log(FitaFavoritaVar)
  //       console.log(PersonagemFavorita)

  //       // Enviando o valor da nova input
  //       fetch("/usuarios/cadastrarTier", {
  //           method: "POST",
  //           headers: {
  //               "Content-Type": "application/json"
  //           },
  //           body: JSON.stringify({
  //               // crie um atributo que recebe o valor recuperado aqui
  //               // Agora vá para o arquivo routes/usuario.js
                
  //               FitaServer: FitaFavoritaVar,
  //               PersonagemServer: PersonagemFavoritaVar,
  //               fkUsuarioServer: fkUsuarioVar
          
  //           })
  //       }).then(function (resposta) {

  //           console.log("resposta: ", resposta);

  //           if (resposta.ok) {
  //               mensagem_erro.innerHTML = "Cadastro realizado com sucesso! Redirecionando para tela de Login...";
           
  //           } else {
  //               throw ("Houve um erro ao tentar realizar o cadastro!");
  //           }
  //       }).catch(function (resposta) {
  //           console.log(`#ERRO: ${resposta}`);           
  //       });
  //       return false;


        
  //   }
    
</script>
